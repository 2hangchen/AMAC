# 分布式基础


## 分布式锁

如果是一台机子我们可以使用语言提供的锁，但是分布式的系统，主机都是分开的，那么可以使用一个共同的变量A
假设正在使用是1不使用是0以此来规定这个访问权限。

在使用数据库的时候，可以获得锁时向表中插入一条记录，释放锁时删除这条记录。唯一索引可以保证该记录只被插入一次，那么就可以用这个记录是否存在来判断是否存于锁定状态。那么就意味着要反复的查看数据库，性能容易造成很大的损耗。

可以使用多个 Redis 实例来实现分布式锁，这是为了保证在发生单点故障时仍然可用。

## 分布式事务
- 本地消息表
- 2pc

分布式事务是指事务的参与者、支持事务的服务器、资源服务器以及事务管理器分别位于分布式的不同节点上
