# 动态规划之股票问题

股票问题的通用问题是：

一只股票，只能先买再卖 可以买卖 k次 问最大收益。

- 股票可以买卖2次
- 股票可以随便买卖
- 股票可以买卖k次
- 股票有一个冷冻期，意思是说买了隔一天才能卖出。

定义dp方程：到第i天，股票的最大收益。

同时我们要求有 k次 以及 是否持有股票，那么这么多条件只能增加维度。

所以dp通用方程是

`DP[i][k][j]` 

拥有的状态是：

DP[i,k,0] 表示 第i天 交易的k次，然后没有持有股票了。
DP[i,k,1] 表示 第i天 交易 k次 ，持有股票

那么我们的通用dp方程的解是：

```go
DP[0][1][1] = [len(arr)][k][2]int{} // 数据补齐。 
DP[0][1][0] = [len(arr)][k][2]int{} // 

for i:= 1;i <len(arr);i++ {
    for ki := 2;ki < K;ki++ {
        DP[i][ki][0] = max(DP[i][ki][0],DP[i][ki-1][1]+arr[i])
        DP[i][ki][1] = max(DP[i][ki][1],DP[i][ki-1][0]-arr[i])
    }
}

```