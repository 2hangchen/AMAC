# 高性能并发队列算法

基于 生产者消费者模式。并发队列，要求多线程（这个要看你使用的编程语言，go中就是MPG模型多goruntine）
高性能并发队列，当然实现的底层就是队列， 这里的队列使用的是双向循环队列，我们只需要使用生产者和消费者模式
也就是说我们只需要利用go的chan来通信就可以实现。我们使用数组类型的队列。出队和入队，只能一个goruntine来访问，
这样的话就需要加个锁。

所以说如果是生产者和消费者模式，那么肯定是需要有消费者和生产者的，也就是说，一些chan用来专门往队列里存数据，一些chan专门
从里面取出数据。


如果使用一个goruntine就加一次锁这种行为，实际上就不是并行，就变成了串行，那么速度相对的会下降不少（跟并行相比）所以说我们应该改进这种算法

我们要做的一件事就是使用两级制度，也就是说我们在第一部先申请一个相应的队列上的空间，比如一次申请5个地址，然后使用5个goruntine
例如 a线程只写1-3区块，b线程只写4-6块 ， 那么在锁定1-3的时候却是是上锁了，但是1 2 3 三个地址空间用一个线程来写就快了很多，然后释放锁
b线程就给了它 4-6的内存地址，整体而言比一个地址一次上锁，上锁的几率就少了很多。
