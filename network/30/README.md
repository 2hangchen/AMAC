# 5中socket模型 --- 5种套接字模型

建立一个socket需要经过哪几个过程

- 创建 socket
- 绑定 socket 到指定地址和端口
- 开始监听连接
- 读取客户端输入
- 关闭 socket

5种io模型分别是:

- 阻塞：
应用进程被阻塞，直到数据从内核缓冲区复制到应用缓冲区。在阻塞的过程中，其它应用进程还可以执行，因此阻塞不意味着整个操作系统都被阻塞。因为其它应用进程还可以执行，所以不消耗 CPU 时间，这种模型的 CPU 利用率会比较高。

- 非阻塞：
应用被执行后直接返回一个错误码，不等执行完就返回，然后进程继续执行，但是系统会一直询问IO是否完成，一直轮询这些个请求，CPU利用率低
- io复用：
Select poll或者epoll 等待数据，当多个套接字中的某个数据表示可以请求的时候返回，然后再用recvfrom 把数据从内核复制到进程中。
可以让单个进程执行多个IO，而且是事件驱动型即：当一起监听很多事件，只要某个准备好了我就让你返回，然后复制信息从系统内核到进程中即可。
不用开多线程或者多进程就可以完成这个目的
- 异步：
不会阻塞IO，异步 I/O 与信号驱动 I/O 的区别在于，异步 I/O 的信号是通知应用进程 I/O 完成，而信号驱动 I/O 的信号是通知应用进程可以开始 I/O。
一个是通知我结束了，一个是通知可以开始了。
- 信号驱动：
应用进程使用 sigaction 系统调用，内核立即返回，应用进程可以继续执行，也就是说等待数据阶段应用进程是非阻塞的。内核在数据到达时向应用进程发送 SIGIO 信号，应用进程收到之后在信号处理程序中调用 recvfrom 将数据从内核复制到应用进程中
所以说信号驱动型是基于非阻塞模型的，然后它不一样的地方时，它让数据到达的时候主动发送一个信号，就不用一遍一遍的去轮询了。直接受到信号就可以处理了。
